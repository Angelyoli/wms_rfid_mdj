<script type="text/javascript">
    var data = { "total": 0, "rows": [] };
    $(function () {
        $('#details').datagrid({
            onClickRow: function () {
                var row = $('#details').datagrid('getSelected');
                if (row) {
                    $('#checkBillDetails').datagrid({ url: '/CheckBill/CheckBillDetails/?BillNo=' + row.BillNo }); //                   
                } else {
                    $.messager.show({ title: '系统提示', msg: '失败!请检查原因！' });
                }
            }
        })
    });
</script>
<div region="center" split="true" border="false" style="border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #99BBE8">    
    <table id="details" class="easyui-datagrid" border="false" singleSelect="true" url="/CheckBill/Details/" pageSize="50"
        fit="true" toolbar="#tool"  pagination="true" rownumbers="true">
        <thead>
            <tr>
                <th field="ck" checkbox="true">
                <th field="BillNo" width="100">盘点单号</th>
                <th field="BillDate" width="120" >制单日期</th>
                <th field="BillTypeName" width="60" >订单名称</th>                
                <th field="WarehouseName" width="80" >仓库名称</th>
                <th field="OperatePersonName" width="60" >操作人</th>
                <th field="Status" width="80">处理状态</th> 
                <th field="VerifyPersonName" width="60" >审核人</th>
                <th field="VerifyDate" width="120" >审核时间</th>
                <th field="Description" width="60">备注</th>
                <th field="UpdateTime" width="120" >更新时间</th>
                <th field="OperatePersonID" hidden="true" width="80" >操作员ID</th>
                <th field="OperatePersonCode" hidden="true" width="80" >操作员名称</th>
                <th field="VerifyPersonID" hidden="true" width="80" >审核人ID</th>
                <th field="VerifyPersonCode" hidden="true" width="80" >审核人名称</th>
                <th field="WarehouseCode" hidden="true" width="80" >仓库编码</th>
                <th field="BillTypeCode" hidden="true" width="80" >订单编码</th>
            </tr>
        </thead>
    </table>
</div>
<div region="south" split="true" border="false" style="height: 250px; border-top-style: solid; border-top-width: 1px; border-top-color: 99BBE8;">
<table id="checkBillDetails" class="easyui-datagrid" border="false" singleSelect="true" fit="true" pagination="true" rownumbers="true" pageSize="50">
        <thead>
            <tr>
                <th field="ID" width="80">细单号</th>
                <th field="BillNo" width="90" >盘点单号</th>
                <th field="CellCode" width="100" hidden="true">货位编码</th>
                <th field="CellName" width="100" >货位名称</th>
                <th field="StorageCode" width="70" hidden="true">库存编码</th>
                <th field="ProductCode" width="70">产品编码</th>
                <th field="ProductName" width="120">产品名称</th>
                <th field="UnitCode" width="70">单位编码</th>
                <th field="UnitName" width="70">单位名称</th>
                <th field="Quantity" width="70">数量</th>
                <th field="RealQuantity" hidden="true" width="80">实际数量</th>
                <th field="OperatePersonCode" hidden="true" width="80">作业人员</th>
                <th field="OperatePersonName" width="70">作业人员</th>
                <th field="StartTime" width="100">开始时间</th>
                <th field="FinishTime" width="100">结束时间</th>
                <th field="Status" width="55">完成状态</th>
            </tr>
        </thead>
    </table>
</div>