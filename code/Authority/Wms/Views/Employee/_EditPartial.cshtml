<script type="text/javascript">
    function editClick() {
        var row = $('#details').datagrid('getSelected');
        if (row) {
            AddLoad();
            showDialog('编辑');
            addDialog.dialog('open');
            url = '/Employee/Edit/';
            $('form input').removeAttr("disabled");
            $('form textarea').removeAttr("disabled");
            $('#inputEmployeeCode').attr("readonly", true);
            $('#fm').form('load', row);
            $('#dlg').dialog('open').dialog('setTitle', '编辑');
            $('#fm .easyui-validatebox').validatebox({
                required: true
            });
            //Status
            if (row.Status == "在职") {
                $('#Status').combo('setValue', 3701).combo('setText', row.Status);
            }
            else if (row.Status == "离职") {
                $('#Status').combo('setValue', 3702).combo('setText', row.Status);
            }
            else if (row.Status == "退休") {
                $('#Status').combo('setValue', 3703).combo('setText', row.Status);
            }
            else if (row.Status == "试用") {
                $('#Status').combo('setValue', 3704).combo('setText', row.Status);
            }
            else if (row.Status == "外调") {
                $('#Status').combo('setValue', 3705).combo('setText', row.Status);
            }
            else if (row.Status == "停薪留职") {
                $('#Status').combo('setValue', 3706).combo('setText', row.Status);
            }
            else if (row.Status == "借用") {
                $('#Status').combo('setValue', 3707).combo('setText', row.Status);
            }
            else {
                $('#Status').combo('setValue', 3708).combo('setText', row.Status);
            }
            //IsActive
            if (row.IsActive == '可用') {
                $('#isActive_emp').combo('setValue', 1).combo('setText', row.IsActive);
            }
            else {
                $('#isActive_emp').combo('setValue', 0).combo('setText', row.IsActive);
            }
            $('#isActive_emp').combo({
                hasDownArrow: true
            });
        } else {
            $.messager.alert('错误', '没有选择行！');
        }
    };
</script>
