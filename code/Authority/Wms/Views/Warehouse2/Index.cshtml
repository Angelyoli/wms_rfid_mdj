<script type="text/javascript">
    var setting = {
        view: {
            showLine: false
        },
        data: {
            simpleData: {
                enable: true
            }
        },
        callback: {
            onClick: onclick
        }
    };
    function onclick(event, treeId, treeNode) {
        $('#details').datagrid('options').url = '/Warehouse2/Details/?type=' + treeNode.type + '&id=' + treeNode.id;
        $('#details').datagrid('reload');
    }
    $(document).ready(function () {
        $.ajaxSender.send('/DefaultProductSet/CellCodeSet/', ///Cell/GetCheckDetails/  /DefaultProductSet/CellCodeSet/
                            {
                            'productId': ''
                        },
                    function (data) {
                        $.fn.zTree.init($("#warehouseTree"), setting, data);
                    });
    });
</script>
<div id="sidebar" region="west" split="true"  style="width: 220px; overflow: scroll; padding: 1px; margin: 1px">
    <ul id="warehouseTree" class="ztree"></ul>
</div>
<div region="center" split="true" border="false" style="border-left-style: solid; border-left-width: 1px; border-left-color: #99BBE8">    
    <table id="details" class="easyui-datagrid" url="/Warehouse2/Details/" border="false" singleSelect="true" pageSize="50"
        fit="true" pagination="true" rownumbers="true">
        <thead>
                <tr>
                 <th field="Code" hidden="true" width="50">编码</th>
				<th field="Name" width="200" align="left" iconCls="icon">名称</th>
				<th field="ShortName" width="120">简称</th>
                <th field="Type" width="65">类型</th>         
                <th field="Description" width="100">描述</th>
                <th field="IsActive" width="65">是否可用</th>
                <th field="ProductName" width="150">预设卷烟名称</th>
                <th field="Layer" width="80">货位层号</th>
                <th field="MaxQuantity" width="65">货位最大量</th>
                <th field="UpdateTime" width="140">时间</th>
                <th field="AllotInOrder" width="65">入库顺序</th>
                <th field="AllotOutOrder" width="65">出库顺序</th>
                <th field="WarehouseCode" hidden="true" width="50">仓库编码</th>
				<th field="WarehouseName" hidden="true" width="200" align="left" iconCls="icon">仓库名称</th>
                <th field="AreaCode" hidden="true" width="50">库区编码</th>
				<th field="AreaName" hidden="true" width="200" align="left" iconCls="icon">库区名称</th>
                <th field="ShelfCode" hidden="true" width="50">货架编码</th>
				<th field="ShelfName" hidden="true" width="200" align="left" iconCls="icon">货架名称</th>
                <th field="CellCode" hidden="true" width="50">货位编码</th>
				<th field="CellName" hidden="true" width="200" align="left" iconCls="icon">货位名称</th>
                <th field="attributes" hidden="true" width="200" align="left" iconCls="icon">判断节点类型</th>
            </tr>
        </thead>
    </table>
</div>
